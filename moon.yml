# yaml-language-server: $schema=.moon/cache/schemas/project.json

layer: tool

tasks:
  changeset:
    command: changeset
    options:
      cache: false
      interactive: true
  version:
    command: bun run scripts/version.ts
  publish:
    script: pnpm exec changeset tag && pnpm publish -r --no-git-checks --access public
    deps: ["contracts:build", "sdk:build"]
    options:
      runDepsInParallel: false
  format-all:
    command: dprint check --allow-no-files
    options:
      cache: false
  format-all-fix:
    command: dprint fmt --allow-no-files
    options:
      cache: false
  oxlint-all:
    command: oxlint --type-aware
    options:
      cache: false
